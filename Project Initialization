2. Prevent force pushes to main

To prevent force pushes to the main branch, follow these steps:

    Go to the "Settings" tab of your repository.

    Under the "Branches" section in the left sidebar, click on "Branch protection rules".

    Click "Add rule".

    In the "Branch name pattern" field, enter main (or whatever branch you want to protect).

    Under "Protect this branch", check the box for "Require linear history", which disables force pushes.

    Optionally, you can check additional protection settings like requiring pull request reviews, status checks, or even restricting who can push to this branch.

    Click "Create" to save the protection rule.

3. Set up required PR reviews

To require pull request (PR) reviews before merging, follow these steps:

    Go to the "Settings" tab of your repository.

    Under "Branches" in the left sidebar, click on "Branch protection rules".

    If you already have a protection rule for main, click on "Edit" next to the rule. Otherwise, click "Add rule" to create a new rule.

    In the "Branch name pattern" field, enter main.

    Scroll down to the "Require pull request reviews before merging" option and check the box.

    Optionally, you can set the number of required approvals under "Require review from Code Owners" (if you have set up CODEOWNERS) or the "Required approving reviews" field.

    Click "Save changes".
